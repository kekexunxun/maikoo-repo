<view class="container">
  <view class="weui-cells__title">{{isAuth ? '信息修改' : '信息完善'}}</view>
  <view class="weui-cells weui-cells_after-title">
    <view class="weui-cell weui-cell_input">
      <view class="weui-cell__hd">
        <view class="weui-label">姓名</view>
      </view>
      <view class="weui-cell__bd">
        <input bindinput='inputName' value="{{userName}}" class="weui-input" placeholder="请输入姓名" />
      </view>
      <view class="weui-cell__ft" wx:if="{{!userName || (userAuthName && !userName)}}">
        <icon type="warn" size="23" color="#E64340"></icon>
      </view>
    </view>
    <view class="weui-cell weui-cell_input">
      <view class="weui-cell__hd">
        <view class="weui-label">身份证号</view>
      </view>
      <view class="weui-cell__bd">
        <input type='number' value="{{identID}}" bindinput='inputIdentID' maxlength='18' class="weui-input" placeholder="请输入身份证号" />
      </view>
      <view class="weui-cell__ft" wx:if="{{(!identID || identID.length != 18) && (userAuthIdentID && (identID.length != 18 || !identID))}}">
        <icon type="warn" size="23" color="#E64340"></icon>
      </view>
    </view>
    <view class="weui-cell weui-cell_input weui-cell_vcode">
      <view class="weui-cell__hd">
        <view class="weui-label">手机号</view>
      </view>
      <view class="weui-cell__bd">
        <input type='number' value="{{telNum}}" disabled='{{isTelInputDis}}' bindinput='inputTel' maxlength='11' class="weui-input" placeholder="请输入手机号" />
      </view>
      <view class="weui-cell__ft" wx:if="{{!sad}}">
        <block wx:if="{{showSendCode}}">
          <view class="weui-vcode-btn" bindtap='getTelCode'>获取验证码</view>
        </block>
        <block wx:else>
          <view class="weui-vcode-btn code-text">{{refreshCodeTime}}秒后重试</view>
        </block>
      </view>
    </view>
    <block wx:if="{{showValidateInput}}">
      <view class="weui-cell weui-cell_input">
        <view class="weui-cell__hd">
          <view class="weui-label">验证码</view>
        </view>
        <view class="weui-cell__bd">
          <input type='number' disabled='{{isValidate}}' bindinput='inputValidateCode' maxlength='6' class="weui-input" placeholder="请输入验证码" />
        </view>
      </view>
    </block>
  </view>
  <checkbox-group bindchange="bindAgreeChange">
    <label class="weui-agree" for="weuiAgree">
      <view class="weui-agree__text">
        <checkbox class="weui-agree__checkbox" id="weuiAgree" value="agree" checked="{{isAgree}}" />
        <view class="weui-agree__checkbox-icon">
          <icon class="weui-agree__checkbox-icon-check" type="success_no_circle" size="9" wx:if="{{isAgree}}"></icon>
        </view>
        阅读并同意
        <navigator url="../clause/clause" class="weui-agree__link">《相关条款》</navigator>
      </view>
    </label>
  </checkbox-group>
  <view class="weui-btn-area">
    <block wx:if="{{!isLogin}}">
      <button class="weui-btn" type="primary" open-type="getUserInfo" bindgetuserinfo="getUserInfo">微信认证</button>
    </block>
    <block wx:else>
      <form bindsubmit='userAuthBtn' report-submit='true'>
        <button class="weui-btn" type="primary" form-type='submit'>确定</button>
      </form>
    </block>
  </view>
</view>